<?php
/**
 * Magento
 *  
 * NOTICE OF LICENSE
 *  
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/osl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *  
 * DISCLAIMER
 *  
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *  
 * @category  Nosto
 * @package   Nosto_Tagging
 * @author    Nosto Solutions Ltd <magento@nosto.com>
 * @copyright Copyright (c) 2013-2017 Nosto Solutions Ltd (http://www.nosto.com)
 * @license   http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
 */

/**
 *     ______     ___     ____  _____  ___   _________   ________ ______  _____ _________
 *    |_   _ `. .'   `.  |_   \|_   _.'   `.|  _   _  | |_   __  |_   _ `|_   _|  _   _  |
 *      | | `. /  .-.  \   |   \ | |/  .-.  |_/ | | \_|   | |_ \_| | | `. \| | |_/ | | \_|
 *      | |  | | |   | |   | |\ \| || |   | |   | |       |  _| _  | |  | || |     | |
 *     _| |_.' \  `-'  /  _| |_\   |\  `-'  /  _| |_     _| |__/ |_| |_.' _| |_   _| |_
 *    |______.' `.___.'  |_____|\____`.___.'  |_____|   |________|______.|_____| |_____|
 *
 * Nosto sends information over both the API and the broswer tagging. Values for the tagging is generated
 * via the Nosto corresponding objects. In order to customize the values in the markup below, you will need
 * to override the core parts of the extension. Failure to do so will result in broken and incorrect
 * recommendations.
 * Please see a reference guide such as https://github.com/Nosto/nosto-magento/wiki/
 */

/**
 * Template for filter tagging
 *
 * @see Nosto_Tagging_Block_Filter
 */

$helper = Mage::helper('nosto_tagging');
?>
<!-- Nosto filter tagging -->
<?php $filters = $this->getNostoFilters() ?>
<?php if (!empty($filters)): ?>
    <?php foreach ($filters as $key => $value): ?>
        <div class="nosto_custom_field" style="display:none"><?php echo $helper->escapeHtml($key); ?> : <?php /* @escapeNotVerified */ echo $helper->escapeHtml($value); ?></div>
    <?php endforeach; ?>
<?php endif; ?>

<?php $priceRange = $this->getNostoPriceRange() ?>
<?php if ($priceRange && array_key_exists(Nosto_Tagging_Block_Filter::NOSTO_PRICE_FROM, $priceRange)): ?>
    <div class="nosto_price_from" style="display:none"><?php echo $helper->escapeHtml($priceRange[Nosto_Tagging_Block_Filter::NOSTO_PRICE_FROM]); ?></div>
<?php endif; ?>
<?php if ($priceRange && array_key_exists(Nosto_Tagging_Block_Filter::NOSTO_PRICE_TO, $priceRange)): ?>
    <div class="nosto_price_to" style="display:none"><?php echo $helper->escapeHtml($priceRange[Nosto_Tagging_Block_Filter::NOSTO_PRICE_TO]); ?></div>
<?php endif; ?>

<?php $categories = $this->getNostoCategoryFilters() ?>
<?php if (!empty($categories)): ?>
    <?php foreach ($categories as $category): ?>
        <div class="nosto_category" style="display:none"><?php echo $helper->escapeHtml($category); ?></div>
    <?php endforeach; ?>
<?php endif; ?>
